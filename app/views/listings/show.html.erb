<p id="notice"><%= notice %></p>

<% if @listing.photos != [] %> <!-- there are profile who doesn't have listing photo -->

<div class="container">
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>

        <!-- Wrapper for slides -->
      <div class="carousel-inner">
        <div class="carousel-item active">
          <%= image_tag @listing.photos.first, class:"d-block w-100" %>
        </div>
          <% @listing.photos.shift %>
          <% @listing.photos.each do |p| %>
            <div class="carousel-item">
              <%= image_tag p, alt: 'picture', class:"d-block w-100" %>
            </div>
          <% end %>
      </div>

      <!-- Left and right controls -->
      <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

<% end %>

<p>
  <strong>Property:</strong>
  <%= @listing.title %>
</p>

<p>
  <strong>Property type:</strong>
  <%= @listing.property_type %>
</p>

<p>
  <strong>Price:</strong>
  RM <%= @listing.price %> / night
</p>

<p>
  <strong>Owned by:</strong>
  <%= @listing.user.first_name + " " + @listing.user.last_name %>
</p>

<p>
  <strong>No of rooms:</strong>
  <%= @listing.num_of_rooms %>
</p>

<p>
  <strong>No of bathroom:</strong>
  <%= @listing.no_of_bathrooms %>
</p>

<p>
  <strong>Description:</strong>
  <%= @listing.description %>
</p>

<p>
  <strong>House Rules:</strong>
  <%= @listing.house_rules %>
</p>

<%= link_to 'Edit', edit_listing_path(@listing) %> |
<%= link_to 'Delete', listing_path, method: :delete, data: { confirm: 'Are you sure?' } %> |
<%= link_to 'Back', listings_path %>

<% if signed_in? %>
  <%= render partial: "bookings/form", locals: { booking: @booking } %>
<% end %>
